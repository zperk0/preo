<div class='menu' layout="column">
  <div class="menu-toolbar" layout="row" layout-align="start center">
    <div flex class='menu-name'>{{vm.menu.name}}</div>
    <md-button class="md-primary md-hue-2" translate>Show modifiers</md-button>
  </div>
  <div class="row-reverse" flex layout="row" layout-align="start stretch">
    <div flex="40" class='main-content-right' ng-if="vm.showingContextualMenu">
      <contextual-menu
              on-submit="vm.contextualSubmit"
              type="vm.showingContextualMenu"
              entity="vm.contextualEntity">
      </contextual-menu>
    </div>
    <div flex class="menu-content" ng-class="{'flex-60':vm.showingContextualMenu}">
      <div class='main-content-left'
            sv-root
            sv-on-start="vm.onSectionMoveStart($item, $part, $index, $helper)"
            sv-on-stop="vm.onSectionMoveStop($item, $part, $index)"
            sv-on-sort="vm.onSectionMoved($item, $partFrom, $partTo, $indexFrom, $indexTo)"
            sv-part="vm.menu.sections">
        <menu-section
          ng-repeat="section in vm.menu.sections"
          ng-class="{dragging:section.$dragging}"
          section="section"
          draggable="false"
          long-press
          sv-element="{{section.$expanded ? undefined : true}}"
          sv-element-disabled="section.$expanded"
          ng-attr-data-id="{{section.id}}">
        </menu-section>
        <menu-section
          menu-id="vm.menu.id">
        </menu-section>
        <div sv-placeholder></div>
      </div>
    </div>
  </div>
</div>
