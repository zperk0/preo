<div class='event'
      ng-class="{expanded: eventCtrl.event.$expanded}"
      ng-attr-data-id="{{eventCtrl.event.id}}">

  <card-item  has-actions="eventCtrl.hasActions"
              deleted="eventCtrl.event.$deleted"
              selected="eventCtrl.event.$selected"
              expanded="eventCtrl.event.$expanded"
              >
    <card-item-title ng-click="eventCtrl.toggleExpanded($event)"
                    has-visible="true">
                      <md-button class="md-icon-button warning-button" ng-if="eventCtrl.hasAnyScheduleWithoutSlots()">
                        <icon class="warning-icon">report_problem</icon>
                        <md-tooltip>{{ 'There are schedules in this event without a collection slot' }}</md-tooltip>
                      </md-button>
                      <span>{{eventCtrl.event.name}} </span>
                      <icon class='arrow-icon' flex>{{eventCtrl.event.$expanded ? 'arrow_drop_up' : 'arrow_drop_down'}}</icon>
                    </card-item-title>


    <item-chips
          ng-if="eventCtrl.event.outletLocationId && eventCtrl.outletLocations.length"
          items="eventCtrl.outletLocations"
          on-remove="eventCtrl.removeOutletLocation(item)"
          class="outlet-locations-chips"></item-chips>

    <event-schedule-list
          has-new="true"
          schedules="eventCtrl.event.schedules"
          event="eventCtrl.event"
        >
    </event-schedule-list>

    <card-item-actions is-visible="eventCtrl.event.visible"
                       on-delete="eventCtrl.onDelete()"
                       on-edit="eventCtrl.onEdit($event)"
                       on-add-location="eventCtrl.onAddOutletLocation($event)"
                       add-location-message="eventCtrl.getAddOutletLocationMessage()"
                        ></card-item-actions>
  </card-item>
</div>