<div class="sidenav-wrapper" ng-show="drawerEventsImportCtrl.loaded">
  <form  ng-submit="drawerEventsImportCtrl.done()" novalidate name="drawerEventsImportCtrl.nameForm">
  <md-sidenav md-disable-backdrop class="md-sidenav-right contextual-drawer contextual-drawer-outlets md-whiteframe-4dp" md-component-id="eventsImport">

    <div class='contextual-list' ng-class="{'empty': drawerEventsImportCtrl.emptyData}">
      <md-tabs md-dynamic-height md-stretch-tabs="always" md-selected="drawerEventsImportCtrl.selectedTab">
        <md-tab label="Events">
          <div class='sv-root-holder' sv-root="event">
            <!-- <div class="event-import-name" ng-if="!drawerEventsImportCtrl.emptyData">
            <md-input-container md-no-float flex class="no-spacer">
              <label>{{'Event name' | translate }}</label>
              <input type="text" name="inputName" autofocus required ng-model="drawerEventsImportCtrl.inputName">
              <div ng-messages="drawerEventsImportCtrl.nameForm.inputName.$error">
                <div ng-message="required"> {{'This is required.' | translate}}</div>
              </div>
            </md-input-container>
            </div> -->

            <div class="events-list">
            <label class="label-title" ng-if="!drawerEventsImportCtrl.emptyData">{{ 'Choose events to import:' | translate }}</label>
            <card-item-list collection="drawerEventsImportCtrl.data">
              <div class='sort-holder' sv-part="::drawerEventsImportCtrl.data" sv-part-origin="::drawerEventsImportCtrl"
              sv-keep-in-list='true' sv-is-dropzone='false'>
              <card-item
                has-actions="drawerEventsImportCtrl.hasActions"
                ng-repeat="event in drawerEventsImportCtrl.data | orderBy: eventTime track by $index"
                selected="event.$selected"
                ng-click="drawerEventsImportCtrl.selectEvent(event)"
                sv-element="event">
                <card-item-title has-visible="true">
                  <span>{{event.showName}} </span>
                </card-item-title>
              </card-item>
              <div sv-placeholder></div>
              </div>
            </card-item-list>
            </div>
          </div>

          <div class='contextual-empty'>
            <img src='/images/emptydrawer.png'>
            <div class='header'> {{'No new events to import.' | translate}} </div>
          </div>
        </md-tab>

        <md-tab label="Collection Slots">
          <div class="collection-slots-select-content">
            <div class="error error-required-pickup-slot" ng-if="drawerEventsImportCtrl.nameForm.$submitted && !drawerEventsImportCtrl.slots.pickupSlots.length">
              {{ 'You must select at least one collection slot.' | translate }}
            </div>

            <label class="label-title" translate>{{'Choose collection slots:' | translate }}</label>
            <collection-slots-select ng-model="drawerEventsImportCtrl.slots"></collection-slots-select>
          </div>
        </md-tab>
      </md-tabs>
    </div>

    <md-card-actions layout="row" layout-align="end center">
      <md-button ng-click="drawerEventsImportCtrl.close()" class='md-primary'>
        {{'Cancel' | translate }}
      </md-button>
      <md-button type="submit" ng-disabled="drawerEventsImportCtrl.selectedEvents.length <= 0" class='md-raised'>
        {{ 'Import' | translate}}
      </md-button>
    </md-card-actions>
  </md-sidenav>
  </form>
</div>
