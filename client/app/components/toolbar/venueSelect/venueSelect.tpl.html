<div class='venue-select' layout="row" layout-align="start center">
  <div layout="row" ng-if="$venueSelect.venues && $venueSelect.venues.length===1 && !$venueSelect.showSearch()">
    <span flex class='ellipsis'>{{ $venueSelect.entityName }}</span>
  </div>
  <md-menu ng-if="($venueSelect.venues && $venueSelect.venues.length>1) || $venueSelect.showSearch()"
           md-position-mode="left bottom">
    <md-button layout="row" aria-label="{{'Open phone interactions menu' | translate}}" ng-click="$venueSelect.openMenu($mdOpenMenu, $event)" md-menu-origin>
      <icon ng-if="$venueSelect.isChannel" class="channel-icon">public</icon>
      <span flex class='ellipsis'>{{ $venueSelect.entityName }}</span>
      <icon>arrow_drop_down</icon>
    </md-button>
    <md-menu-content width="6" class="venue-select-menu-content">
      <md-menu-item ng-if="$venueSelect.showSearch()" class="searchbox">
      <form ng-submit="$venueSelect.doSearch()">
        <md-input-container>
          <icon>search</icon>
          <label translate>Search venue name</label>
          <input flex name="search" ng-model="$venueSelect.searchLabel">
        </md-input-container>
      </form>
      </md-menu-item>
      <md-menu-item ng-repeat="channel in $venueSelect.channels">
        <md-button ng-click="$venueSelect.switchChannel(channel)">
          <icon>public</icon>
          <span flex ng-if="$venueSelect.showSearch()">{{channel.id}} - {{channel.name}} </span>
          <span flex ng-if="!$venueSelect.showSearch()">{{channel.name}} </span>
        </md-button>
      </md-menu-item>
      <md-menu-item ng-repeat="venue in $venueSelect.venues">
        <md-button ng-click="$venueSelect.switchVenue(venue)">
          <span ng-if="$venueSelect.showSearch()">{{venue.id}} - {{venue.name}} </span>
          <span ng-if="!$venueSelect.showSearch()">{{venue.name}} </span>
        </md-button>
      </md-menu-item>
    </md-menu-content>
  </md-menu>
</div>
