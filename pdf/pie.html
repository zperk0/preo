<html>
<head>
<script src="libs/jquery-1.9.1.min.js"></script>
<script src="libs/highcharts.js"></script>
<script src="libs/moment.min.js"></script>
<script src="libs/shared.js"></script>
<script>
$(function () {

	  var chartInfo = {"title":"Orders By Outlet","startDate":1398208814228,"endDate":1406071214228,"total":0.0,"dataJson":"[{\"name\":\"caio caio caio caio caio caio caio caio\",\"color\":\"#18a4dd\",\"y\":29},{\"name\":\"bla\",\"color\":\"#1576b7\",\"y\":3},{\"name\":\"scott\",\"color\":\"#543b87\",\"y\":3},{\"name\":false,\"color\":\"#392654\",\"y\":1},{\"name\":\"ble\",\"color\":\"#f5b23e\",\"y\":8}]","categories":["caio","bla","scott","false","ble"],"type":"PIE"};

    $('.title').html(chartInfo.title);
    $('.dates').html(formatDate(chartInfo.startDate) + " - " + formatDate(chartInfo.endDate));
	var revenueChart = 
            {	

                    chart: {
                        type: 'pie',
                        height:'360'
                    },
                    exporting: {
                        enabled: false
                    },
                    plotOptions: {
                        pie: {
                            center: ["40%", "55%"],
                            borderWidth:0
                        }
                    },
                    legend: {
                        width:10,
                        enabled: true,
                        layout: 'vertical',
                        verticalAlign: 'middle',
                        align:'center',
                        x:180,
                        borderWidth: 0,
                        itemMarginTop:5,
                        itemMarginBottom:5,
                        symbolRadius:10,
                        symbolHeight:20,
                        symbolWidth:20,
                        symbolPadding:10,
                        itemStyle:{                 
                        		width:200,
                            lineHeight:25,
                            fontSize:20,
                            spacingBottom:30            
                        },
                        useHTML: false,
                        labelFormatter: function () {
                            var style = 'font-family:Co Text W01 Light;';
                            style += "color:#46545d"
                            return '<div style="' + style + '">' + this.name + '</div>';
                        }
                    },
                title: {
                    text: ''
                },
                yAxis: {
                    title: {
                        text: ''
                    }
                },
                series: [{
                    data: JSON.parse(chartInfo.dataJson),
                    size: '100%',
                    innerSize: '80%',
                    showInLegend: true,
                    dataLabels: {
                        enabled: false
                    },                   
	                	animation:false	                
                }]
            }
    $('#container').highcharts(revenueChart);
    $.each(revenueChart.series[0].data,function(){
    	console.log(this);
    	$(".dataTable").append("<li style='background-color:"+this.color+"'>"+this.y+"</li>")
    });
    	

  });



</script>
<style>
	@font-face{
		font-family:"Co Text W01 Bold";
		src:url("fonts/fonts-com/137c5228-fcea-49b5-87a2-652892f35567.eot?#iefix");
		src:url("fonts/fonts-com/137c5228-fcea-49b5-87a2-652892f35567.eot?#iefix") format("eot"),url("fonts/fonts-com/48ad114c-19ab-41fc-92c3-eab9077289d4.woff") format("woff"),url("fonts/fonts-com/82715156-ba20-42e6-8103-3038d1ef9fb9.ttf") format("truetype"),url("fonts/fonts-com/f328709c-b561-4944-95c5-0c5a9ab1a87c.svg#f328709c-b561-4944-95c5-0c5a9ab1a87c") format("svg");
		}
		@font-face{
		font-family:"Co Text W01 Light";
		src:url("fonts/fonts-com/601bffc8-cea9-4d92-ac3f-617b85516156.eot?#iefix");
		src:url("fonts/fonts-com/601bffc8-cea9-4d92-ac3f-617b85516156.eot?#iefix") format("eot"),url("fonts/fonts-com/fe5ae5d6-d1f1-487e-9e59-76f5f199c3ae.woff") format("woff"),url("fonts/fonts-com/12ea435b-6a3a-4d98-bcf3-418174b701b7.ttf") format("truetype"),url("fonts/fonts-com/42dd9b27-137a-4cc1-a771-ef3625e2779c.svg#42dd9b27-137a-4cc1-a771-ef3625e2779c") format("svg");
	}
	body{
			font-family:"Co Text W01 Light","sans-serif";;
	}
	.title{
		float:left;		
		width:40%;
		text-align:left;
	}
	.dates{
		float:right;
		width:40%;
		text-align:right;
	}
	.clearFix{
		clear:both;
	}
	.header{
		border-bottom: 1px solid #ccc;
		padding-bottom: 10px;
		margin-bottom: 10px;
	}
	.innerHeader{
		font-size: 200%;
		color: #1476B7;
		display: block;
		font-weight:bold;
		margin-bottom: 40px;
		font-family:"Co Text W01 Bold","Co Text W01 Light","sans-serif";

	}
	.innerHeader sup{
			font-size:50%;
			display:inline-block;
			margin-left:5px;
			color:#8cbe56;			
	}
	.footer{
		margin-top:0px;
	}
	.logo{
		float:right;
	}
	#container{
		min-width:500px;
		width: 80%; 
		height: 500px; 
		margin: 60px auto 0;
		overflow:visible;
	}
	ul{
		list-style: :none;
		list-style-type: none;
		min-width:80px;
		position:absolute;		
		top:80px;
		left:0;
		text-align: center;
	}

	li{
			font-size:30px;
			color:white;
			padding:20px 40px;
			margin-bottom: 1px;
	}
</style>
</head>
<body>
<div class='header'>
		<div class='title'>Orders by outlet</div>
		<div class='dates'>01/01/14 - 01/02/14</div>
		<div class='clearFix'></div>
</div>
<div id="container" ></div>
<ul class='dataTable'>			
</ul>
<div class='footer'>
		<div class='logo'>Report generated by <br/><img src='img/logo.png'/></div>
</div>
</body>
</html>
